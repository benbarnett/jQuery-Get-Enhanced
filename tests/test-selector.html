<!DOCTYPE html>

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>jQuery Get with Selector Support for fetching page fragments</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Ben Barnett">
	<!-- Date: 2010-09-01 -->
	
	<style type="text/css" media="screen">
		html {
			padding:0;
			margin:0;
			background:#ebebeb;
		}
		
		body {
			width:760px;
			padding:15px;
			margin:15px auto;
			background:#fff;
			font: 75% "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
			-webkit-border-radius:10px;
			-moz-border-radius:10px;
			border-radius:10px;
		}
		
		.target, {
			padding:5px 20px;
			width:250px;
			background:#0c0;
			margin:20px 0;
			position:relative;
			font-size:80%;
		}
		
	</style>
</head>
<body>
	<h1>jquery.get-enhanced plugin test</h1>
	<h2>Test: $.get('url <em>selector</em>')</h2>
	<p>Content being fetched from <a href="endpoint/data.html">endpoint/data.html</a> <em>#target</em>.</p>

	<h2>Demo</h2>
	
	<div class="target">
		Fetched and processed content will appear here.
	</div>
	
	<button id="start">Run test</button>
	
	
	<script type="text/javascript" src="../scripts/contrib/jquery-1.3.2.js"></script>
	<script type="text/javascript" src="../scripts/src/jquery.get-enhanced.js"></script>
	<script type="text/javascript" charset="utf-8">
		var sillyWords = ["incredible", "awesome", "amazing", "fantastic"];
	
		$('button#start').click(function() {
			var button = $(this).attr('disabled', 'disabled');
			
			$.get('endpoint/data.html #target', function(data) {
				// do something amazing with the data
				if (data) {
					// fetch word
					var word = sillyWords[Math.floor(Math.random() * sillyWords.length)];
					
					// replace
					var output = data.replace(/cool/ig, word);
					
					// write to DOM
					$('.target').html(output);
				}
				
				button.removeAttr('disabled');
			});
		});
	</script>

</body>
</html>
